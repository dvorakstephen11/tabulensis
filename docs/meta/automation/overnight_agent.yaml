version: 2

repo:
  # Base branch the agent should treat as the upstream truth.
  base_branch: main

  # The agent runs in a dedicated git worktree for the entire overnight session
  # (keeps the primary working tree untouched).
  session_worktree_root: ../excel_diff_worktrees/overnight_session

  # Ops journal is committed on a dedicated branch/worktree to avoid merge conflicts.
  ops_journal_branch: overnight/ops-journal
  ops_journal_worktree: ../excel_diff_worktrees/overnight_ops_journal
  exec_summary_log: docs/meta/logs/ops/executive_summary.log
  reports_dir: docs/meta/logs/ops

  # Local-only runtime state/logs (gitignored via tmp/).
  run_root: tmp/overnight_agent
  session_state: tmp/overnight_agent/session.json

  git_identity:
    name: Overnight Agent
    email: overnight-agent@localhost

codex:
  codex_bin: codex

  # Where Codex CLI stores sessions/history/auth. Must be writable.
  # Using a repo-local tmp path makes the overnight agent more robust in sandboxed setups.
  codex_home: tmp/overnight_agent/codex_home

  # Pinned model (the watchdog enforces this).
  model: gpt-5.3-codex

  # The watchdog enforces this too (and passes it to Codex via `--config`).
  # Reasoning effort is separate from the model slug in Codex CLI.
  model_reasoning_effort: xhigh

  # Execution controls.
  full_auto: true
  sandbox: workspace-write
